package ru.itmo.web.lesson4.util;

import ru.itmo.web.lesson4.model.Color;
import ru.itmo.web.lesson4.model.Post;
import ru.itmo.web.lesson4.model.User;

import javax.servlet.http.HttpServletRequest;
import java.util.Arrays;
import java.util.List;
import java.util.Map;

public class DataUtil {
    private static final List<User> USERS = Arrays.asList(
            new User(1, "MikeMirzayanov", "Mike Mirzayanov", Color.BLUE),
            new User(6, "pashka", "Pavel Mavrin", Color.RED),
            new User(9, "geranazarov555", "Georgiy Nazarov", Color.BLUE),
            new User(11, "tourist", "Gennady Korotkevich", Color.RED),
            new User(26, "said.ibragimov.02", "Said Ibragimov", Color.GREEN)
    );

    private static final List<Post> POSTS = Arrays.asList(
            new Post(1, "История Дагестана",
                    "Первые следы появления человека в Дагестане относятся к концу раннего палеолита (ашельское время) (около 800—1500 тыс. лет назад).\n" +
                            "В эпоху среднего палеолита (мустье) (80—35 тыс. лет назад) археологические памятники встречаются уже во всех физико-географических зонах. В верхнем палеолите (35—10 тыс. лет назад) в условиях наступления ледников с горных районов человек спускается в Прикаспийскую равнину, о чем свидетельствует находка чаши из окрестностей Гиджуха, изготовленной из головки бедренной кости мамонта. С ашельского времени люди научились пользоваться огнем, практиковали коллективную охоту с помощью загонов. В мустье появляются наконечники для копий.\n" +
                            "\n" +
                            "В эпоху мезолита (10—9 тыс. лет назад) на Кавказе завершилась эпоха ледников, изменились климатические условия, снизился уровень Каспийского моря. Из районов южного Прикаспия в горный Дагестан проникают племена, которые оставили нам Чохское поселение. С ними связаны и наскальные изображения около сел Мекеги и Ругуджа. Важнейшим достижением этого времени было изобретение лука и стрелы. Об идеологических представлениях населения свидетельствуют изображения животных и солярных знаков. Переход к земледелию и скотоводству произошел в неолите (8—7 тысяч лет назад). В это время на Чохском поселении появляется каменное жилище, примыкающее к скальному навесу. Среди важнейших достижений этой эпохи были изобретения керамики, ткачества, новой техники обработки камня (полировка, сверление). В эпоху энеолита (V—IV тысячелетие до н.э.) произошло важнейшее открытие металлов. Эталонным памятником этого времени является Гинчинское поселение с круглоплановыми жилищами. Здесь же было обнаружено два человеческих захоронения.\n" +
                            "\n" +
                            "Возникновение земледелия и скотоводства было важнейшим событием древнего Дагестана. С этого времени он становится центром бурного развития экономики, ускоренного роста населения, интенсивных демографических процессов, связанных с освоением новых территорий. Возникают временные и сезонные поселения. С началом бронзового века (конец IV—II тысячелетие до н.э.) горный Дагестан оказался в сфере великой земледельческой культуры: агрокультурное террасирование горных склонов достигло своих завершенных форм. Восточный Кавказ, включая Дагестан, как одна из провинций \"неолитической революции\" сделал вклад в мировую селекцию многими сортами мягких и твердых пшениц, почти 50 разновидностями ячменей, эндемичными культурами льна и бобовых, множеством сортов абрикоса, винограда, семечковых и т.д. В позднем бронзовом веке зарождается производство железа. Это привело к революционным изменениям в экономике, культуре и сознании людей, в конечном счете — к формированию сначала \"военной демократии\", а потом и государственности.\n" +
                            "\n" +
                            "Через Дагестан прокатываются разные волны ираноязычных кочевников (сабатиновских, белозерских, скифских племен), которые растекались в странах Закавказья и Передней Азии.\n" +
                            "\n" +
                            "Период IV в. до н.э. – IV в. н.э. в истории Восточного Кавказа ознаменован образованием и расцветом государства Кавказской Албании. Народы Кавказской Албании приняли участие в войне понтийского царя Митридата IV Евпатора с римлянами. С приходом к власти сасанидских правителей (226 г.) в Иране началась борьба против Рима за влияние на Кавказе. Положение на Кавказе осложнилось Великим переселением народов и вторжением в Прикаспийский Дагестан различных кочевых племен — савиров, авар, барсилов, гуннов и т.д.\n" +
                            "\n" +
                            "Они представляли опасность для стран Закавказья и Передней Азии. Поэтому сасанидские правители (Ездигерд, Кавад, Хосров, Ануширван) в целях своей безопасности возводили укрепления на северных рубежах. Так, возникли Дербентские оборонительные сооружения. Начал функционировать Великий шелковый путь. В V—VI вв. формируются раннефеодальные царства Лакэ, Табасаран, Зерихгеран, Кайтаг, Гумик, Серир, Дербент, Маскут, которые сыграли важную роль в истории народов Кавказа.\n" +
                            "\n" +
                            "В середине VII в. формируется Хазарский каганат — крупное государственное образование юго-восточной Европы, своеобразный конгломерат кочевых и оседлых племен и различных народов. Пределы этой огромной державы охватывали Прикаспийский Дагестан. 40-е годы VII—VIII вв. характеризуются арабо-хазарскими войнами, в которые вовлекались и народы Дагестана. На последнем этапе арабские отряды под руководством военачальников Джарраха, Масламы и Мирвана совершали походы во внутренние районы Дагестана. Эти войны привели к разрушению производительных сил Дагестана, уничтожению сел, упадку сельского хозяйства и ремесел. После арабо-хазарских войн вместе с арабскими завоеваниями началось распространение ислама в Дагестан, которое завершилось в XV в. В IX в. Дагестан освобождается от власти арабского халифата, к 965 г. распался и Хазарский каганат. В середине XI в. в Предкавказье появляются половецкие племена кипчаков, которые сыграли решающую роль в образовании кумыкского народа из населения Прикаспийского Дагестана. Целую эпоху истории Дагестана составило татаро-монгольское нашествие. В 1220-1222 гг. 20-тысячное войско во главе с Джэбэ и Субэдэем, несмотря на упорное сопротивление горцев, из Закавказья через внутренний Дагестан прорвались на Северный Кавказ. Последующие годы отмечены серией походов татаро-монгол на Дагестан уже из районов Северного Кавказа (1227, 1239-1240) и упорной борьбой народов Дагестана против агрессоров. Татаро-монгольское нашествие затормозило процесс социально-экономического и культурного развития населения, привело к регрессу культуры. В XIV в., создав в Средней Азии обширное государство, Тамерлан стал претендовать на создание \"мировой империи\", которую не удалось создать Чингисхану. В 1395 г. во главе огромной армии он из Азербайджана через Дербентский проход проник в дагестанские владения. Варварские погромы Тимура принесли неисчислимые бедствия народам Дагестана, но его жестокость не могла поставить свободолюбивых горцев на колени. Их борьба за свободу и независимость является яркой страницей в истории. В начале XVI в. Иран и Османская империя вступили в схватку за обладание Дагестаном. Эта борьба сопровождалась безудержным грабежом местного населения, разрушением производительных сил края, истреблением и угоном населения в неволю. В 1582 г. объединенные силы лакцев, аварцев и даргинцев нанесли турецким янычарам крупное поражение. Затем развернулась продолжительная борьба народов Дагестана за свободу и независимость, венцом которой стала героическая борьба против иранского шаха Надира, совершившего два опустошительных нашествия на Страну гор. Объединенные силы горцев разгромили иранцев сначала около Джаника в 1738 г. и в 1741 г. в самом Дагестане. Все последующие походы и сражения иранских войск (1742 и 1743 гг.) кончались их поражением. Убедившись в бесперспективности войны с горцами, Надир-шах в 1743 г. в спешном порядке вывел свои войска из Дагестана. Наиболее яркой страницей истории Дагестана и всего Кавказа явилась народно-освободительная борьба горцев против царского колониализма в XIX в. Эта борьба против могущественнейшей в мире империи отмечена героическими подвигами народов Дагестана и Северного Кавказа под руководством имамов Гази-Мухаммеда, Гамзатбека и Шамиля.\n" +
                            "\n" +
                            "В ходе борьбы было создано государство — Имамат Шамиля, функционировавшее в течение 1834—1859 гг. Героизм и стойкость горцев, отвага и военный гений их вождя — Шамиля вызывали восхищение мирового сообщества. Борьба горцев завершилась 25 августа 1859 г. взятием царскими войсками последнего оплота имама — Гуниба и почетным пленением Шамиля. В результате Кавказской войны Дагестан был фактически присоединен к Российской Империи в качестве Дагестанской области и здесь было введено так называемое военно-народное управление. На этом, однако, борьба горцев за свою свободу и независимость не прекратилась. В 1877 г. поднялось новое восстание в Дагестане, Чечне и Адыгее, которое было жестоко подавлено. Вместе с тем, присоединение к России означало для Дагестана приобщение к российской цивилизации и через нее выход к европейскому сообществу. В конце XIX— начале XX в. в Дагестане стали формироваться капиталистические предприятия, функционировать железные дороги, порт. Стали развиваться экономика и культура, февральская революция, октябрьский переворот 1917 г. и последовавшая за ним граждан-скал война, обернувшаяся бедствием для народных масс, возымели для Дагестана судьбоносные политические и социальные последствия. 13 ноября 1920 г. на Первом вседагестанском съезде народов Дагестана была провозглашена советская автономия Дагестана, 20 января 1921 г. был объявлен декрет ВЦИК об образовании Дагестанской Автономной Советской Социалистической Республики, а в начале декабря 1921 г. на Первом Вседагестанском учредительном съезде Советов была принята Конституция республики. К 1926 г. было восстановлено народное хозяйство, разрушенное гражданской войной, прорыт канал им. Октябрьской революции (КОР) протяженностью 70 км от Судана до Махачкалы (1923), пущен стекольный завод \"Дагогни\" (1926), начато строительство Гергебильской ГЭС (1929). Быстрыми темпами осуществлялось дорожное строительство. В 1928-1929 гг. было проведено новое административное деление и создано 28 районов вместо прежних 10 округов. В конце 20 — начале 30-х годов начата массовая коллективизация. В 1937 г. на основании Конституции СССР была принята новая Конституция Дагестана. Вместе с тем на политической, экономической и духовной жизни республики пагубно сказались репрессии 30-х годов, порожденные тоталитарной системой партийно-государственного управления. Отечественная война 1941—1945 гг. стала величайшей трагедией для всей страны. Не было в Дагестане семьи, не потерявшей своих близких. Война тяжело отразилась на экономике республики. Однако народы Дагестана вместе со всеми народами СССР одержали победу над фашизмом, 52 дагестанца стали Героями Советского Союза. В результате послевоенного строительства к 1950 г. раны войны были залечены, народное хозяйство страны восстановлено, материальное состояние народа улучшилось. Вместе с тем республика испытала на себе все отрицательные последствия социально-экономических экспериментов последующих десятилетий.",
                    26),
            new Post(2, "Newton's second law", "In an inertial reference frame, the acceleration that a material point with a constant mass receives is directly proportional to the resultant of all forces applied to it and inversely proportional to its mass.", 6),
            new Post(3, "Rectangle area", "The size of the rectangle area is equal to the product of the rectangle width by its length.", 9),
            new Post(4, "Pythagorean theorem", "Pythago ras' theorem says that the square of the hypotenuse is equal to the sum of the squares of the other two sides.", 1)
    );

    public static void addData(HttpServletRequest request, Map<String, Object> data) {
        data.put("users", USERS);

        for (User user : USERS) {
            if (Long.toString(user.getId()).equals(request.getParameter("logged_user_id"))) {
                data.put("user", user);
            }
        }

        data.put("posts", POSTS);
    }
}
